s<!-- Bootstrap core JS-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

<script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
<!-- Bootstrap core JS-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
<!-- Core theme JS-->

<script>
  window.addEventListener("DOMContentLoaded", () => {
    let scrollPos = 0;
    const mainNav = document.getElementById("mainNav");
    const headerHeight = mainNav.clientHeight;
    window.addEventListener("scroll", function () {
      const currentTop = document.body.getBoundingClientRect().top * -1;
      if (currentTop < scrollPos) {
        // Scrolling Up
        if (currentTop > 0 && mainNav.classList.contains("is-fixed")) {
          mainNav.classList.add("is-visible");
        } else {
          // console.log(123);
          mainNav.classList.remove("is-visible", "is-fixed");
        }
      } else {
        // Scrolling Down
        mainNav.classList.remove(["is-visible"]);
        if (
          currentTop > headerHeight &&
          !mainNav.classList.contains("is-fixed")
        ) {
          mainNav.classList.add("is-fixed");
        }
      }
      scrollPos = currentTop;
    });
    const userInfo = document.getElementById("user-info");
    const editButton = document.getElementById("edit-button");
    const editForm = document.getElementById("edit-form");

    editButton.addEventListener("click", () => {
      if (userInfo.style.display === "none") {
        // Switch to view mode
        userInfo.style.display = "block";
        editForm.style.display = "none";
        editButton.innerText = "Edit";
      } else {
        // Switch to edit mode
        userInfo.style.display = "none";
        editForm.style.display = "block";
        editButton.innerText = "Cancel Edit";
      }
    });
  });
</script>

<script>
  function validateForm() {
    // Get the value of the LicenseNo input field
    var licenseNo = document.getElementById("LicenseNo").value;

    // Check if the LicenseNo field is empty
    if (licenseNo.trim() === "") {
      // Display the error message
      document.getElementById("error-message").innerText =
        "A license number is required.";

      // Prevent the form from being submitted
      return false;
    }

    // If the field is not empty, allow the form to be submitted
    return true;
  }
</script>
<!-- Signup form -->
<script>
  document.addEventListener("DOMContentLoaded", function () {
    const registrationForm = document.getElementById("registrationForm");

    registrationForm.addEventListener("submit", function (event) {
      event.preventDefault();
      const firstNameInput = document.getElementById("firstname");
      const lastNameInput = document.getElementById("lastname");
      const phoneInput = document.getElementById("phone");
      const userTypeInput = document.getElementById("userType");
      const usernameInput = document.getElementById("username");
      const passwordInput = document.getElementById("password");
      const confirmPasswordInput = document.getElementById("confirmPassword");

      const firstNameError = document.querySelector(".firstNameError");
      const lastNameError = document.querySelector(".lastNameError");
      const phoneError = document.querySelector(".phoneError");
      const userTypeError = document.querySelector(".userTypeError");
      const usernameError = document.querySelector(".usernameError");
      const passwordError = document.querySelector(".passwordError");
      const confirmPasswordError = document.querySelector(
        ".confirmPasswordError"
      );

      // Clear any previous error messages
      firstNameError.textContent = "";
      lastNameError.textContent = "";
      phoneError.textContent = "";
      userTypeError.textContent = "";
      usernameError.textContent = "";
      passwordError.textContent = "";
      confirmPasswordError.textContent = "";

      // Check for empty fields
      if (!firstNameInput.value.trim()) {
        firstNameError.textContent = "A First name is required.";
        return;
      }

      if (!lastNameInput.value.trim()) {
        lastNameError.textContent = "A lastname is required.";
        return;
      }

      if (!phoneInput.value.trim()) {
        phoneError.textContent = "A phone number is required.";
        return;
      }

      if (!userTypeInput.value.trim()) {
        userTypeError.textContent = "User type is required.";
        return;
      }

      if (!usernameInput.value.trim()) {
        usernameError.textContent = "An username or email is required.";
        return;
      }

      if (!passwordInput.value.trim()) {
        passwordError.textContent = "A password is required.";
        return;
      }

      if (!confirmPasswordInput.value.trim()) {
        confirmPasswordError.textContent = "A password is required.";
        return;
      }

      // If validation passes, you can submit the form
      registrationForm.submit();
    });
  });
</script>

<script>
  document.addEventListener("DOMContentLoaded", function (event) {
    const loginForm = document.getElementById("loginForm");
    loginForm.addEventListener("submit", function (event) {
      event.preventDefault();

      const loginInput = document.getElementById("username");
      const passwordInput = document.getElementById("password");

      const usernameError = document.querySelector(".usernameError");
      const passwordError = document.querySelector(".passwordError");

      usernameError.textContent = "";
      passwordError.textContent = "";

      if (!loginInput.value.trim()) {
        usernameError.textContent = "An username or email is required.";
        return;
      }

      if (!passwordInput.value.trim()) {
        passwordError.textContent = "A password is required.";
        return;
      }
      loginForm.submit();
    });
  });
</script>

<script>
  // Define updateTimeSlotAvailability function
  async function updateTimeSlotAvailability() {
    // Enable all checkboxes initially
    document.querySelectorAll(".form-check-input").forEach((checkbox) => {
      checkbox.disabled = false;
    });
    // Fetch existing appointments for the selected date
    const selectedDate = document.getElementById("appointmentDate").value;
    const response = await fetch(`checkAppointment/${selectedDate}`);
    if (response.ok) {
      const existingAppointments = await response.json();
      const times = existingAppointments.time;

      if (times) {
        times.forEach((appointment) => {
          const time = appointment;
          const checkbox = document.getElementById(time);

          if (checkbox) {
            checkbox.disabled = true;
          }
        });
      }
    } else {
      document.querySelectorAll(".form-check-input").forEach((checkbox) => {
        checkbox.disabled = false;
      });
    }
  }
</script>
